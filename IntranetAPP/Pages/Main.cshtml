@page
@model PrivacyModel
@{
    ViewData["Title"] = "Strona główna";
}
<h1>@ViewData["Title"]</h1>

<head>
    <script>
        function activate() {
            checkUserPriviliges();
            setLoginData();

            document.getElementById("loader").style.display = "block";

            $.get("http://localhost:5249/GetNews", function (data) {
                let list = document.getElementById("list");

                data.forEach((item) => {
                    let li = document.createElement("li");
                    li.style.fontWeight = "bold";
                    let li2 = document.createElement("li");
                    li.innerText = item.title;
                    li2.innerText = item.description;
                    list.appendChild(li);
                    list.appendChild(li2);
                });

                document.getElementById("loader").style.display = "none";
            });
        }
    </script>
</head>

<body onload="activate()">
    <div class="text-center">
        <h2 class="display-4">Wiadomości</h2>
        <ul id="list" style="list-style-type: none; padding-left: 0px"></ul>
        <div class="loader" id="loader" style="margin-left: auto; margin-right: auto; display: none"></div>
    </div>
</body>